(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(40)},22:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);a(16);var n=a(1),l=a.n(n),r=a(9),o=a.n(r),c=(a(22),a(10)),i=a(11),s=a(14),m=a(12),u=a(13),d=a(2),h=a(3);a(38);var f=function(e){var t=e.items.map(function(e){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},e.ID),l.a.createElement("td",null,e.title),l.a.createElement("td",null,e.creator),l.a.createElement("td",null,e.runtime))});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Film ID"),l.a.createElement("th",{scope:"col"},"Title"),l.a.createElement("th",{scope:"col"},"Creator"),l.a.createElement("th",{scope:"col"},"Runtime"))),l.a.createElement("tbody",null,t))},p=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).addHandler=function(){Object(d.a)(Object(d.a)(a));h.firestore().collection("films").add({title:a.state.currentTitle,creator:a.state.currentCreator,runtime:a.state.currentRuntime}).then(function(e){console.log("Document written with ID: ",e.id)}).catch(function(e){console.error("Error adding document: ",e)}),a.readFilms()},a.deleteHandler=function(){h.firestore().collection("films").doc(a.state.currentID).delete().then(function(){console.log("Document successfully deleted!")}).catch(function(e){console.log("Error removing document: "+e)}),a.readFilms()},a.readFilms=function(){var e=Object(d.a)(Object(d.a)(a));h.firestore().collection("films").get().then(function(t){var a=[];t.forEach(function(e){a.push({ID:e.id,title:e.data().title,creator:e.data().creator,runtime:e.data().runtime}),console.log(e.id," => ",a)}),console.log("Film Array: "+a),e.setState({films:a})}).catch(function(e){console.log("Error getting documents: ",e)})},a.handleTitleChange=function(e){a.setState({currentTitle:e.target.value})},a.handleRuntimeChange=function(e){a.setState({currentRuntime:e.target.value})},a.handleCreatorChange=function(e){a.setState({currentCreator:e.target.value})},a.handleIDChange=function(e){a.setState({currentID:e.target.value})},a.state={total:50,films:[{ID:"defaultID",title:"defaultTitle",creator:"defaultCreator",runtime:"defaultRuntime"},{ID:"defaultID1",title:"defaultTitle",creator:"defaultCreator",runtime:"defaultRuntime"}],currentID:"",currentTitle:"",currentCreator:"",currentRuntime:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=h.firestore(),a=t.collection("total").doc("total");t.collection("films");this.readFilms(),a.get().then(function(t){t.exists?(console.log("Document data: ",t.data()),e.setState({total:t.data().total})):console.log("No such document!")}).catch(function(e){console.log("Error getting document:",e)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Digipops Coding Test"),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",null,"Total Number of Films: ",this.state.total))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("p",null,"Enter Film Title: "),l.a.createElement("input",{type:"text",className:"form-control",id:"filmTitle",onChange:this.handleTitleChange}),l.a.createElement("p",null,"Enter Film Runtime: "),l.a.createElement("input",{type:"text",className:"form-control",id:"filmRuntime",onChange:this.handleRuntimeChange}),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.addHandler},"Add Film"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-4"},l.a.createElement("p",null,"Enter Film Creator: "),l.a.createElement("input",{type:"text",className:"form-control",id:"filmCreator",onChange:this.handleCreatorChange})),l.a.createElement("div",{className:"col-4"},l.a.createElement("p",null,"Enter film ID to delete: "),l.a.createElement("input",{type:"text",className:"form-control",id:"delete",onChange:this.handleIDChange}),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteHandler},"Delete Film"))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement(f,{items:this.state.films}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.initializeApp({apiKey:"AIzaSyCorVqLiH-oPldWqkqJkp-aELjKDcAUZFQ",authDomain:"digipopscodetest.firebaseapp.com",databaseURL:"https://digipopscodetest.firebaseio.com",projectId:"digipopscodetest",storageBucket:"digipopscodetest.appspot.com",messagingSenderId:"817896085352",timestampsInSnapshots:!0}),o.a.render(l.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,2,1]]]);
//# sourceMappingURL=main.ad8f5613.chunk.js.map